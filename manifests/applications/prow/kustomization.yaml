---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

commonLabels:
  app.kubernetes.io/name: op1st-prow
  app.kubernetes.io/managed-by: op1st-emea-b4mad

resources:
  - https://raw.githubusercontent.com/operate-first/apps/master/cluster-scope/base/apiextensions.k8s.io/customresourcedefinitions/prowjobs.prow.k8s.io/customresourcedefinition.yaml

  - crier/
  - deck/
  - ghproxy/
  - hook/
  - horologium/
  - label_sync_cron_job.yaml
  - needs-rebase/
  - pipeline/
  - prow-controller-manager/
  - service_monitors.yaml
  - sinker/
  - statusreconciler/
  - tide/

  - ingress.yaml

  - secrets/cookie.yaml
  - secrets/github-oauth-config.yaml
  - secrets/github-token.yaml
  - secrets/hmac-token.yaml
  - secrets/oauth-token.yaml
  - secrets/s3-credentials.yaml

configMapGenerator:
  - name: config
    files:
      - config.yaml
  - name: plugins
    files:
      - plugins.yaml
